(function(){"use strict";var e={7313:function(e,n,i){var t=i(9963),s=i(6252);const r={id:"app"},o={class:"demo"};function a(e,n,i,t,a,h){const u=(0,s.up)("PulseLoader"),l=(0,s.up)("VueProductSpinner");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("div",o,[(0,s.Wm)(l,{images:t.shoeImages,slider:t.slider,infinite:t.infinite,mouseWheel:t.mouseWheel,animation:t.animation,sliderClass:"demo-slider"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{color:"#3f51b5"})])),_:1},8,["images","slider","infinite","mouseWheel","animation"])])])}var h=i(2262),u=i(3577);const l={class:"vue-product-spinner",ref:"componentContainer"},d=["src"],c=["max","value"];function m(e,n,i,t,r,o){return(0,s.wg)(),(0,s.iD)("picture",l,[r.imagesPreloaded?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("img",{tabindex:"1",draggable:"false",src:r.spinner.currentPath,onKeydown:n[0]||(n[0]=(...e)=>o.handleKeydown&&o.handleKeydown(...e)),onMouseup:n[1]||(n[1]=(...e)=>o.handleMouseUp&&o.handleMouseUp(...e)),onMousedown:n[2]||(n[2]=(...e)=>o.handleMouseDown&&o.handleMouseDown(...e)),onMousemove:n[3]||(n[3]=(...e)=>o.handleMouseMove&&o.handleMouseMove(...e)),onTouchstart:n[4]||(n[4]=(...e)=>o.handleTouchStart&&o.handleTouchStart(...e)),onTouchend:n[5]||(n[5]=(...e)=>o.handleTouchEnd&&o.handleTouchEnd(...e)),onTouchmove:n[6]||(n[6]=(...e)=>o.handleTouchMove&&o.handleTouchMove(...e))},null,40,d),i.slider?((0,s.wg)(),(0,s.iD)("input",{key:0,type:"range",tabindex:"1",min:"1",max:r.spinner.size,value:r.spinner.current,class:(0,u.C_)(["vue-product-spinner-slider",i.sliderClass]),onInput:n[7]||(n[7]=(...e)=>o.handleSlider&&o.handleSlider(...e))},null,42,c)):(0,s.kq)("",!0)],64)):(0,s.WI)(e.$slots,"default",{key:1},(()=>[(0,s.Uk)("Loading images...")]))],512)}i(7658);function p(e){if(!Array.isArray(e))throw new Error("Invalid input: srcs must be an array");function n(e){return new Promise(((n,i)=>{const t=new Image;t.onload=function(){n(t)},t.onerror=t.onabort=function(){i(e)},t.src=e}))}const i=[];for(let t=0;t<e.length;t++)i.push(n(e[t]));return Promise.all(i)}var g={name:"VueProductSpinner",props:{images:{type:Array,required:!0,default:()=>[]},infinite:{type:Boolean,required:!1,default:!0},speed:{type:Number,required:!1,default:3},mouseWheel:{type:Boolean,required:!1,default:!1},slider:{type:Boolean,required:!1,default:!1},sliderClass:{type:String,required:!1,default:""},animation:{type:Boolean,required:!1,default:!1}},data(){return{imagesPreloaded:!1,speedController:0,spinner:{current:0,size:0,currentPath:null},mouse:{isMoving:!1,isDragging:!1},touch:{isMoving:!1,initialX:0,isDragging:!1},animationRequestID:0,lastPosition:0,componentContainer:null}},methods:{handleMouseDragging(){this.mouse.isDragging=!1},handleTouchDragging(){this.touch.isDragging=!1},handleWheel(e){this.mouseWheel&&(e.preventDefault(),this.handleMovement(e.deltaY))},initSpinner(){this.spinner.size=this.images.length,this.animation?this.spinImages(0,this.spinner.size):this.spinner.currentPath=this.images[0]},async handlePreload(){Array.isArray(this.images)&&this.images.length>0&&await p(this.images).then((()=>{this.imagesPreloaded=!0})).catch((e=>{console.error("Error preloading images:",e)}))},handleKeydown(e){const n=37,i=39;e.keyCode===i&&(e.preventDefault(),this.handleMovement(this.lastPosition+1)),e.keyCode===n&&(e.preventDefault(),this.handleMovement(this.lastPosition-1))},handleSlider(e){this.spinner.current=Number(e.target.value),this.spinner.currentPath=this.images[e.target.value-1]},handleMouseDown(){this.animation&&this.stopAnimation(),this.mouse.isDragging=!0,this.mouse.isMoving=!0},handleMouseUp(){this.mouse.isMoving=!1},handleMouseMove(e){this.mouse.isMoving&&this.mouse.isDragging&&this.handleMovement(e.pageX)},handleTouchStart(e){e.preventDefault(),this.animation&&this.stopAnimation(),this.touch.isMoving=!0,this.touch.isDragging=!0,this.touch.initialX=e.touches[0].pageX},handleTouchEnd(){this.touch.isMoving=!1},handleTouchMove(e){if(this.touch.isDragging){const n=-(this.touch.initialX-e.touches[0].pageX);this.handleMovement(n)}},spinImages(e,n){let i=e;if(i===n)return this.stopAnimation(),void(this.spinner.currentPath=this.images[0]);this.spinner.currentPath=this.images[i],this.animationRequestID=window.requestAnimationFrame((()=>this.spinImages(i,n))),i+=1},stopAnimation(){this.animationRequestID&&(window.cancelAnimationFrame(this.animationRequestID),this.animationRequestID=null)},handleMovement(e){this.speedController+=1,this.speedController<this.speed||(this.speedController>this.speed&&(this.speedController=0),e>this.lastPosition?this.spinner.current>=0&&this.spinner.current<this.spinner.size&&this.images.length>0?(this.spinner.current+=1,this.spinner.currentPath=this.images[this.spinner.current-1]):this.infinite&&this.images.length>0&&(this.spinner.current=1,this.spinner.currentPath=this.images[this.spinner.current-1]):e<this.lastPosition&&(this.spinner.current>=0&&this.spinner.current-1>0&&this.images.length>0?(this.spinner.current-=1,this.spinner.currentPath=this.images[this.spinner.current-1]):this.infinite&&this.images.length>0&&(this.spinner.current=this.spinner.size,this.spinner.currentPath=this.images[this.spinner.current-1])),this.lastPosition=e)}},mounted(){Array.isArray(this.images)&&this.images.length>0&&(this.imagesPreloaded=!1,this.handlePreload(),this.initSpinner()),window.addEventListener("mouseup",this.handleMouseDragging),window.addEventListener("touchend",this.handleTouchDragging),this.mouseWheel&&this.componentContainer&&this.componentContainer.addEventListener("wheel",this.handleWheel,!1)},beforeDestroy(){this.mouseWheel&&this.componentContainer&&this.componentContainer.removeEventListener("wheel",this.handleWheel),window.removeEventListener("mouseup",this.handleMouseDragging),window.removeEventListener("touchend",this.handleTouchDragging)}},f=i(3744);const v=(0,f.Z)(g,[["render",m]]);var w=v,y=i(9775),M={components:{VueProductSpinner:w,PulseLoader:y.Z},setup(){const e=()=>{const e="localhost"!==window.location.hostname,n=()=>[...Array(71)].map(((n,i)=>`${e?"./demo":""}/imgs/shoe/UnderArmour-${i+1}.jpg`)),i=(0,h.qj)({slider:!0,infinite:!0,mouseWheel:!0,animation:!1,shoeImages:n()});return(0,h.BK)(i)},{slider:n,infinite:i,mouseWheel:t,animation:s,shoeImages:r}=e();return{slider:n,infinite:i,mouseWheel:t,animation:s,shoeImages:r}}};const D=(0,f.Z)(M,[["render",a]]);var P=D;(0,t.ri)(P).mount("#app")}},n={};function i(t){var s=n[t];if(void 0!==s)return s.exports;var r=n[t]={exports:{}};return e[t].call(r.exports,r,r.exports,i),r.exports}i.m=e,function(){var e=[];i.O=function(n,t,s,r){if(!t){var o=1/0;for(l=0;l<e.length;l++){t=e[l][0],s=e[l][1],r=e[l][2];for(var a=!0,h=0;h<t.length;h++)(!1&r||o>=r)&&Object.keys(i.O).every((function(e){return i.O[e](t[h])}))?t.splice(h--,1):(a=!1,r<o&&(o=r));if(a){e.splice(l--,1);var u=s();void 0!==u&&(n=u)}}return n}r=r||0;for(var l=e.length;l>0&&e[l-1][2]>r;l--)e[l]=e[l-1];e[l]=[t,s,r]}}(),function(){i.d=function(e,n){for(var t in n)i.o(n,t)&&!i.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={143:0};i.O.j=function(n){return 0===e[n]};var n=function(n,t){var s,r,o=t[0],a=t[1],h=t[2],u=0;if(o.some((function(n){return 0!==e[n]}))){for(s in a)i.o(a,s)&&(i.m[s]=a[s]);if(h)var l=h(i)}for(n&&n(t);u<o.length;u++)r=o[u],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(l)},t=self["webpackChunkvue3_product_spinner"]=self["webpackChunkvue3_product_spinner"]||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}();var t=i.O(void 0,[998],(function(){return i(7313)}));t=i.O(t)})();
//# sourceMappingURL=app.487daefe.js.map